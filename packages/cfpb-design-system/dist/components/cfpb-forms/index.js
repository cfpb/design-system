(()=>{var ue=Object.defineProperty;var ne=Object.getOwnPropertySymbols;var Se=Object.prototype.hasOwnProperty,Ae=Object.prototype.propertyIsEnumerable;var se=(e,r,a)=>r in e?ue(e,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[r]=a,X=(e,r)=>{for(var a in r||(r={}))Se.call(r,a)&&se(e,a,r[a]);if(ne)for(var a of ne(r))Ae.call(r,a)&&se(e,a,r[a]);return e};var I=(e,r)=>{for(var a in r)ue(e,a,{get:r[a],enumerable:!0})};var U={};I(U,{default:()=>Me});var Me={};var q={};I(q,{default:()=>De});var De={};var Y={};I(Y,{default:()=>Ne});var Ne={};var J={};I(J,{default:()=>Fe});var Fe={};var V={};I(V,{default:()=>je});var je={};var W={};I(W,{default:()=>Re});var Re={};var $={};I($,{default:()=>Ke});var Ke={};var G={};I(G,{default:()=>Ue});var Ue={};var Z={};I(Z,{default:()=>Ye});var Ye={};var Q={};I(Q,{default:()=>Ve});var Ve={};var D="data-js-hook";var fe="state_";function ee(){let e={};function r(f,o){return{}.hasOwnProperty.call(e,f)?e[f].push(o):e[f]=[o],this}function a(f,o){if(!{}.hasOwnProperty.call(e,f))return this;let s=e[f].indexOf(o);return s!==-1&&e[f].splice(s,1),this}function b(f,o){if(!{}.hasOwnProperty.call(e,f))return this;o=o||{};let s=e[f];for(let n=0,u=s.length;n<u;n++)s[n].call(this,o);return this}return this.addEventListener=r,this.removeEventListener=a,this.dispatchEvent=b,this.getRegisteredEvents=()=>e,this}function N(e,r){if(!e)return!1;let a=e.getAttribute(D);return a?(a=a.split(" "),a.indexOf(r)>-1):!1}function be(e,r){if(N(e,r))return r;if(r.indexOf(" ")!==-1){let b=D+" values cannot contain spaces!";throw new Error(b)}let a=e.getAttribute(D);return a!==null&&(r=a+" "+r),e.setAttribute(D,r),r}var re=fe+"atomic_init";function We(e,r){if(!e||!e.classList){let a=e+' is not valid. Check that element is a DOM node with class "'+r+'"';throw new Error(a)}return e}function $e(e,r){let a=e.classList.contains(r)?e:e.querySelector("."+r);if(!a){let b=r+" not found on or in passed DOM node.";throw new Error(b)}return a}function ae(e,r){return We(e,r),$e(e,r)}function C(e){return N(e,re)?!1:(be(e,re),!0)}function te(e,r,a,b={}){let o=(a||document).querySelectorAll(e),s=[],n,u;for(let g=0,v=o.length;g<v;g++)u=o[g],N(u,re)===!1&&(n=new r(u),n.init(b),s.push(n));return s}function oe(){return!!new RegExp(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i).test(navigator.userAgent)}var Ge;function Ze(e){return e.replace(/[-\\^$*+?.()|[\]{}]/g,"\\$&")}function Qe(e,r){return RegExp(Ze(r.trim()),"i").test(e)}function er(e,r,a){let b=e,f=r,o=(a==null?void 0:a.maxSelections)||5,s=[],n=[],u=[],g=[],v=-1;function y(d){return f+"-"+d.value.trim().replace(/\s+/g,"-").toLowerCase()}function m(){return n.length>=o}function h(d){let p,x=[],L=!1;for(let S=0,M=d.length;S<M;S++)p=d[S],L=m()?!1:p.defaultSelected,x.push({id:y(p),value:p.value,text:p.text,checked:L}),L&&n.push(S);return x}function O(){return s=h(b),this}function k(d){return s[d].checked=!s[d].checked,n.length<o&&s[d].checked?(n.push(d),n.sort(),!0):(s[d].checked=!1,n=n.filter(function(p){return p!==d}),!1)}function j(d,p,x,L){return Qe(p.text,L)&&d.push(x),d}function T(d){return Object.prototype.toString.call(d)!=="[object String]"&&(d=""),g=u,s.length>0&&(u=s.reduce(function(p,x,L){return j(p,x,L,d)},[])),v=-1,u}function P(d){return s[d]}function R(d){let p=u.length,x=p===0?s.length:p;d<0?v=-1:d>=x?v=x-1:v=d}function H(){return v}return this.init=O,this.toggleOption=k,this.getSelectedIndices=function(){return n},this.isAtMaxSelections=m,this.filterIndices=T,this.clearFilter=function(){return u=g=[],Ge},this.getFilterIndices=function(){return u},this.getLastFilterIndices=function(){return g},this.getIndex=H,this.setIndex=R,this.resetIndex=function(){return v=-1,v},this.getOption=P,this}var pe=er;function _(e,r,a){let b=document.createElement(e);return Object.keys(a).forEach(f=>{let o=a[f];f in b?b[f]=o:b.setAttribute(f,o)}),r&&r.appendChild(b),b}var he='<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" class="cf-icon-svg cf-icon-svg--error" viewBox="0 0 12 19"><path d="M11.383 13.644A1.03 1.03 0 0 1 9.928 15.1L6 11.172 2.072 15.1a1.03 1.03 0 1 1-1.455-1.456l3.928-3.928L.617 5.79a1.03 1.03 0 1 1 1.455-1.456L6 8.261l3.928-3.928a1.03 1.03 0 0 1 1.455 1.456L7.455 9.716z"/></svg>';var ir=he,E="o-multiselect",lr="a-checkbox",cr="a-text-input",ge="prev",F="next",ie="Enter",dr=" ",me="Escape",nr="ArrowUp",ve="ArrowDown",xe="Tab",we={renderTags:!0,maxSelections:5};function B(e){e.classList.add(E);let r=ae(e,E),a=!1,b,f,o,s,n,u,g,v,y,m,h,O=[],k;function j(){h.classList.remove("u-no-results"),h.classList.add("u-filtered");let i=o.getLastFilterIndices();for(let t=0,l=i.length;t<l;t++)O[i[t]].classList.remove("u-filter-match");i=o.getFilterIndices();for(let t=0,l=i.length;t<l;t++)O[i[t]].classList.add("u-filter-match")}function T(){h.classList.remove("u-filtered","u-no-results");for(let i=0,t=h.children.length;i<t;i++)h.children[i].classList.remove("u-filter-match");o.clearFilter()}function P(){h.classList.add("u-no-results"),h.classList.remove("u-filtered")}function R(i){return i.length>0?(j(),!0):(P(),!1)}function H(i){T(),o.resetIndex();let t=o.filterIndices(i);R(t)}function d(){return u.classList.add("u-active"),m.classList.remove("u-invisible"),m.setAttribute("aria-hidden",!1),k.dispatchEvent("expandbegin",{target:k}),k}function p(){return u.classList.remove("u-active"),m.classList.add("u-invisible"),m.setAttribute("aria-hidden",!0),o.resetIndex(),k.dispatchEvent("collapsebegin",{target:k}),k}function x(i){i===F?o.setIndex(o.getIndex()+1):i===ge&&o.setIndex(o.getIndex()-1);let t=o.getIndex();if(t>-1){let l=t,c=o.getFilterIndices();c.length>0&&(l=c[t]);let z=o.getOption(l).value,Ie=h.querySelector('[data-option="'+z+'"]').querySelector("input");a=!0,Ie.focus()}else a=!1,y.focus()}function L(){y.value="",T()}function S(i){let t=i.target;t.tagName==="BUTTON"&&(i.preventDefault(),t.removeEventListener("click",S),t.querySelector("label").click())}function M(i){if(i.key===dr||i.key===ie){let t=i.target.querySelector("label");h.querySelector("#"+t.getAttribute("for")).click()}}function le(i){return b+"-"+i.value.trim().replace(/[^\w]/g,"-").toLowerCase()}function ce(i,t){let l=le(t),c=_("li",null,{"data-option":t.value}),w=_("button",c,{type:"button",class:"a-tag-filter",innerHTML:"<label for="+l+">"+t.text+ir+"</label>"});i.appendChild(c),w.addEventListener("click",S),w.addEventListener("keydown",M)}function de(i){let t=o.getOption(i)||o.getOption(o.getIndex());if(t){if(t.checked){h.classList.contains("u-max-selections")&&h.classList.remove("u-max-selections");let l='[data-option="'+t.value+'"]',c=g.querySelector(l);typeof c!="undefined"&&c&&(g==null||g.removeChild(c))}else n!=null&&n.renderTags&&g&&ce(g,t);o.toggleOption(i),o.isAtMaxSelections()&&h.classList.add("u-max-selections"),k.dispatchEvent("selectionsupdated",{target:k})}o.resetIndex(),a=!1,m.getAttribute("aria-hidden")==="false"&&y.focus()}function ye(i){de(Number(i.target.getAttribute("data-index"))),L()}function ke(){v.addEventListener("mousemove",function(l){let c=l.target;l.offsetX>c.offsetWidth-35?c.style.cursor="pointer":c.style.cursor="auto"}),v.addEventListener("mouseup",function(l){let c=l.target;l.offsetX>c.offsetWidth-35&&m.offsetHeight===140&&y.blur()}),y.addEventListener("input",function(){H(this.value)}),y.addEventListener("focus",function(){m.getAttribute("aria-hidden")==="true"&&d()}),y.addEventListener("blur",function(){!a&&m.getAttribute("aria-hidden")==="false"&&p()}),y.addEventListener("keydown",function(l){let c=l.key;m.getAttribute("aria-hidden")==="true"&&c!==xe&&d(),c===ie?(l.preventDefault(),x(F)):c===me?(L(),p()):c===ve?x(F):c===xe&&!l.shiftKey&&m.getAttribute("aria-hidden")==="false"&&p()}),h.addEventListener("mousedown",function(){a=!0}),h.addEventListener("keydown",function(l){let c=l.key,w=l.target,z=w.checked;if(c===ie){l.preventDefault(),w.checked=!z;let A=new Event("change",{bubbles:!1,cancelable:!0});w.dispatchEvent(A)}else c===me?(y.focus(),p()):c===nr?x(ge):c===ve&&x(F)}),m.addEventListener("mousedown",function(l){l.target.tagName==="LABEL"&&(a=!0)});let i=h.querySelectorAll("input");for(let l=0,c=i.length;l<c;l++)i[l].addEventListener("change",ye);let t=g.querySelectorAll("button");for(let l=0,c=t.length;l<c;l++)t[l].addEventListener("click",S),t[l].addEventListener("keydown",M)}function _e(){u=document.createElement("div"),u.className=E,g=_("ul",null,{className:"m-tag-group"}),v=_("header",u,{className:E+"__header"}),y=_("input",v,{className:E+"__search "+cr,type:"text",placeholder:f||"Select up to five",id:r.id,autocomplete:"off"}),m=_("fieldset",u,{className:E+"__fieldset u-invisible","aria-hidden":"true"});let i=E+"__options";o.isAtMaxSelections()&&(i+=" u-max-selections"),h=_("ul",m,{className:i});let t,l,c;for(let w=0,z=s.length;w<z;w++){t=s[w],l=le(t),c=o.getOption(w).checked;let A=_("li",h,{"data-option":t.value,"data-cy":"multiselect-option",class:"m-form-field m-form-field--checkbox"});_("input",A,{id:l,type:"checkbox",value:t.value,name:b,class:lr+" "+E+"__checkbox",checked:c,"data-index":w}),_("label",A,{for:l,textContent:t.text,className:E+"__label a-label"}),O.push(A),c&&(n!=null&&n.renderTags)&&ce(g,t)}return u.insertBefore(g,v),r.parentNode.insertBefore(u,r),u.appendChild(r),u}function Ee(i=we){if(!C(r))return this;if(oe())return this;if(k=this,b=r.name||r.id,f=r.getAttribute("placeholder"),s=r.options||[],n=X(X({},we),i),s.length>0){o=new pe(s,b,n).init();let t=_e();r.parentNode.removeChild(r),r=t,C(r),ke()}return this}function Le(){return o}this.init=Ee,this.expand=d,this.collapse=p;let K=new ee;return this.addEventListener=K.addEventListener,this.removeEventListener=K.removeEventListener,this.dispatchEvent=K.dispatchEvent,this.getModel=Le,this.updateSelections=de,this.selectionClickHandler=S,this.selectionKeyDownHandler=M,this}B.BASE_CLASS=E;B.init=e=>te(`.${E}`,B,void 0,e);})();
//# sourceMappingURL=index.js.map
