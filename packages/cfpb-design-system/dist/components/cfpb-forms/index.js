(()=>{var se=Object.defineProperty;var ne=Object.getOwnPropertySymbols;var Le=Object.prototype.hasOwnProperty,Ie=Object.prototype.propertyIsEnumerable;var fe=(e,a,r)=>a in e?se(e,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[a]=r,X=(e,a)=>{for(var r in a||(a={}))Le.call(a,r)&&fe(e,r,a[r]);if(ne)for(var r of ne(a))Ie.call(a,r)&&fe(e,r,a[r]);return e};var E=(e,a)=>{for(var r in a)se(e,r,{get:a[r],enumerable:!0})};var U={};E(U,{default:()=>Ae});var Ae={};var q={};E(q,{default:()=>Me});var Me={};var Y={};E(Y,{default:()=>Te});var Te={};var Z={};E(Z,{default:()=>Ce});var Ce={};var J={};E(J,{default:()=>Be});var Be={};var V={};E(V,{default:()=>Re});var Re={};var W={};E(W,{default:()=>Ke});var Ke={};var $={};E($,{default:()=>Ue});var Ue={};var G={};E(G,{default:()=>Ye});var Ye={};var Q={};E(Q,{default:()=>Je});var Je={};var M="data-js-hook";var be="state_";function ee(){let e={};function a(b,o){return{}.hasOwnProperty.call(e,b)?e[b].push(o):e[b]=[o],this}function r(b,o){if(!{}.hasOwnProperty.call(e,b))return this;let f=e[b].indexOf(o);return f!==-1&&e[b].splice(f,1),this}function u(b,o){if(!{}.hasOwnProperty.call(e,b))return this;o=o||{};let f=e[b];for(let n=0,s=f.length;n<s;n++)f[n].call(this,o);return this}return this.addEventListener=a,this.removeEventListener=r,this.dispatchEvent=u,this.getRegisteredEvents=()=>e,this}function T(e,a){if(!e)return!1;let r=e.getAttribute(M);return r?(r=r.split(" "),r.indexOf(a)>-1):!1}function ue(e,a){if(T(e,a))return a;if(a.indexOf(" ")!==-1){let u=M+" values cannot contain spaces!";throw new Error(u)}let r=e.getAttribute(M);return r!==null&&(a=r+" "+a),e.setAttribute(M,a),a}var ae=be+"atomic_init";function Ve(e,a){if(!e||!e.classList){let r=e+' is not valid. Check that element is a DOM node with class "'+a+'"';throw new Error(r)}return e}function We(e,a){let r=e.classList.contains(a)?e:e.querySelector("."+a);if(!r){let u=a+" not found on or in passed DOM node.";throw new Error(u)}return r}function re(e,a){return Ve(e,a),We(e,a)}function N(e){return T(e,ae)?!1:(ue(e,ae),!0)}function te(e,a,r,u={}){let o=(r||document).querySelectorAll(e),f=[],n,s;for(let v=0,h=o.length;v<h;v++)s=o[v],T(s,ae)===!1&&(n=new a(s),n.init(u),f.push(n));return f}function oe(){return!!new RegExp(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i).test(navigator.userAgent)}var $e;function Ge(e){return e.replace(/[-\\^$*+?.()|[\]{}]/g,"\\$&")}function Qe(e,a){return RegExp(Ge(a.trim()),"i").test(e)}function ea(e,a,r){let u=e,b=a,o=(r==null?void 0:r.maxSelections)||5,f=[],n=[],s=[],v=[],h=-1;function x(l){return b+"-"+l.value.trim().replace(/\s+/g,"-").toLowerCase()}function m(){return n.length>=o}function p(l){let g,y=[],_=!1;for(let L=0,A=l.length;L<A;L++)g=l[L],_=m()?!1:g.defaultSelected,y.push({id:x(g),value:g.value,text:g.text,checked:_}),_&&n.push(L);return y}function S(){return f=p(u),this}function j(l){return f[l].checked=!f[l].checked,n.length<o&&f[l].checked?(n.push(l),n.sort(),!0):(f[l].checked=!1,n=n.filter(function(g){return g!==l}),!1)}function B(l,g,y,_){return Qe(g.text,_)&&l.push(y),l}function D(l){return Object.prototype.toString.call(l)!=="[object String]"&&(l=""),v=s,f.length>0&&(s=f.reduce(function(g,y,_){return B(g,y,_,l)},[])),h=-1,s}function P(l){return f[l]}function R(l){let g=s.length,y=g===0?f.length:g;l<0?h=-1:l>=y?h=y-1:h=l}function H(){return h}return this.init=S,this.toggleOption=j,this.getSelectedIndices=function(){return n},this.isAtMaxSelections=m,this.filterIndices=D,this.clearFilter=function(){return s=v=[],$e},this.getFilterIndices=function(){return s},this.getLastFilterIndices=function(){return v},this.getIndex=H,this.setIndex=R,this.resetIndex=function(){return h=-1,h},this.getOption=P,this}var ge=ea;function w(e,a,r){let u=document.createElement(e);return Object.keys(r).forEach(b=>{let o=r[b];b in u?u[b]=o:u.setAttribute(b,o)}),a&&a.appendChild(u),u}var pe='<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" class="cf-icon-svg cf-icon-svg--error" viewBox="0 0 12 19"><path d="M11.383 13.644A1.03 1.03 0 0 1 9.928 15.1L6 11.172 2.072 15.1a1.03 1.03 0 1 1-1.455-1.456l3.928-3.928L.617 5.79a1.03 1.03 0 1 1 1.455-1.456L6 8.261l3.928-3.928a1.03 1.03 0 0 1 1.455 1.456L7.455 9.716z"/></svg>';var da=pe,z="o-multiselect",ia="a-checkbox",ca="a-text-input",ve="prev",C="next",de="Enter",la=" ",me="Escape",na="ArrowUp",he="ArrowDown",ye="Tab",ke={renderTags:!0,maxSelections:5};function F(e){e.classList.add(z);let a=re(e,z),r=!1,u,b,o,f,n,s,v,h,x,m,p,S=[],j;function B(){p.classList.remove("u-no-results"),p.classList.add("u-filtered");let d=o.getLastFilterIndices();for(let t=0,i=d.length;t<i;t++)S[d[t]].classList.remove("u-filter-match");d=o.getFilterIndices();for(let t=0,i=d.length;t<i;t++)S[d[t]].classList.add("u-filter-match")}function D(){p.classList.remove("u-filtered","u-no-results");for(let d=0,t=p.children.length;d<t;d++)p.children[d].classList.remove("u-filter-match");o.clearFilter()}function P(){p.classList.add("u-no-results"),p.classList.remove("u-filtered")}function R(d){return d.length>0?(B(),!0):(P(),!1)}function H(d){D(),o.resetIndex();let t=o.filterIndices(d);R(t)}function l(){return s.classList.add("u-active"),m.classList.remove("u-invisible"),m.setAttribute("aria-hidden",!1),j.dispatchEvent("expandbegin",{target:j}),j}function g(){return s.classList.remove("u-active"),m.classList.add("u-invisible"),m.setAttribute("aria-hidden",!0),o.resetIndex(),j.dispatchEvent("collapsebegin",{target:j}),j}function y(d){d===C?o.setIndex(o.getIndex()+1):d===ve&&o.setIndex(o.getIndex()-1);let t=o.getIndex();if(t>-1){let i=t,c=o.getFilterIndices();c.length>0&&(i=c[t]);let O=o.getOption(i).value,Ee=p.querySelector('[data-option="'+O+'"]').querySelector("input");r=!0,Ee.focus()}else r=!1,x.focus()}function _(){x.value="",D()}function L(d){let t=d.target;t.tagName==="BUTTON"&&(d.preventDefault(),t.removeEventListener("click",L),t.querySelector("label").click())}function A(d){if(d.key===la||d.key===de){let t=d.target.querySelector("label");p.querySelector("#"+t.getAttribute("for")).click()}}function ie(d){return u+"-"+d.value.trim().replace(/[^\w]/g,"-").toLowerCase()}function ce(d,t){let i=ie(t),c=w("li",null,{"data-option":t.value}),k=w("button",c,{type:"button",class:"a-tag-filter",innerHTML:"<label for="+i+">"+t.text+da+"</label>"});d.appendChild(c),k.addEventListener("click",L),k.addEventListener("keydown",A)}function le(d){let t=o.getOption(d)||o.getOption(o.getIndex());if(t){if(t.checked){p.classList.contains("u-max-selections")&&p.classList.remove("u-max-selections");let i='[data-option="'+t.value+'"]',c=v.querySelector(i);typeof c!="undefined"&&c&&(v==null||v.removeChild(c))}else n!=null&&n.renderTags&&v&&ce(v,t);o.toggleOption(d),o.isAtMaxSelections()&&p.classList.add("u-max-selections"),j.dispatchEvent("selectionsupdated",{target:j})}o.resetIndex(),r=!1,m.getAttribute("aria-hidden")==="false"&&x.focus()}function xe(d){le(Number(d.target.getAttribute("data-index"))),_()}function je(){h.addEventListener("mousemove",function(i){let c=i.target;i.offsetX>c.offsetWidth-35?c.style.cursor="pointer":c.style.cursor="auto"}),h.addEventListener("mouseup",function(i){let c=i.target;i.offsetX>c.offsetWidth-35&&m.offsetHeight===140&&x.blur()}),x.addEventListener("input",function(){H(this.value)}),x.addEventListener("focus",function(){m.getAttribute("aria-hidden")==="true"&&l()}),x.addEventListener("blur",function(){!r&&m.getAttribute("aria-hidden")==="false"&&g()}),x.addEventListener("keydown",function(i){let c=i.key;m.getAttribute("aria-hidden")==="true"&&c!==ye&&l(),c===de?(i.preventDefault(),y(C)):c===me?(_(),g()):c===he?y(C):c===ye&&!i.shiftKey&&m.getAttribute("aria-hidden")==="false"&&g()}),p.addEventListener("mousedown",function(){r=!0}),p.addEventListener("keydown",function(i){let c=i.key,k=i.target,O=k.checked;if(c===de){i.preventDefault(),k.checked=!O;let I=new Event("change",{bubbles:!1,cancelable:!0});k.dispatchEvent(I)}else c===me?(x.focus(),g()):c===na?y(ve):c===he&&y(C)}),m.addEventListener("mousedown",function(i){i.target.tagName==="LABEL"&&(r=!0)});let d=p.querySelectorAll("input");for(let i=0,c=d.length;i<c;i++)d[i].addEventListener("change",xe);let t=v.querySelectorAll("button");for(let i=0,c=t.length;i<c;i++)t[i].addEventListener("click",L),t[i].addEventListener("keydown",A)}function we(){s=document.createElement("div"),s.className=z,v=w("ul",null,{className:"m-tag-group"}),h=w("header",s,{className:z+"__header"}),x=w("input",h,{className:z+"__search "+ca,type:"text",placeholder:b||"Select up to five",id:a.id,autocomplete:"off"}),m=w("fieldset",s,{className:z+"__fieldset u-invisible","aria-hidden":"true"});let d=z+"__options";o.isAtMaxSelections()&&(d+=" u-max-selections"),p=w("ul",m,{className:d});let t,i,c;for(let k=0,O=f.length;k<O;k++){t=f[k],i=ie(t),c=o.getOption(k).checked;let I=w("li",p,{"data-option":t.value,"data-cy":"multiselect-option",class:"m-form-field m-form-field--checkbox"});w("input",I,{id:i,type:"checkbox",value:t.value,name:u,class:ia+" "+z+"__checkbox",checked:c,"data-index":k}),w("label",I,{for:i,textContent:t.text,className:z+"__label a-label"}),S.push(I),c&&(n!=null&&n.renderTags)&&ce(v,t)}return s.insertBefore(v,h),a.parentNode.insertBefore(s,a),s.appendChild(a),s}function ze(d=ke){if(!N(a))return this;if(oe())return this;if(j=this,u=a.name||a.id,b=a.getAttribute("data-placeholder"),f=a.options||[],n=X(X({},ke),d),f.length>0){o=new ge(f,u,n).init();let t=we();a.parentNode.removeChild(a),a=t,N(a),je()}return this}function _e(){return o}this.init=ze,this.expand=l,this.collapse=g;let K=new ee;return this.addEventListener=K.addEventListener,this.removeEventListener=K.removeEventListener,this.dispatchEvent=K.dispatchEvent,this.getModel=_e,this.updateSelections=le,this.selectionClickHandler=L,this.selectionKeyDownHandler=A,this}F.BASE_CLASS=z;F.init=e=>te(`.${z}`,F,void 0,e);})();
//# sourceMappingURL=index.js.map
