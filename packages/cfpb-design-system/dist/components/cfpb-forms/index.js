(()=>{var be=Object.defineProperty;var ne=Object.getOwnPropertySymbols;var Le=Object.prototype.hasOwnProperty,Ie=Object.prototype.propertyIsEnumerable;var fe=(e,a,r)=>a in e?be(e,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[a]=r,X=(e,a)=>{for(var r in a||(a={}))Le.call(a,r)&&fe(e,r,a[r]);if(ne)for(var r of ne(a))Ie.call(a,r)&&fe(e,r,a[r]);return e};var z=(e,a)=>{for(var r in a)be(e,r,{get:a[r],enumerable:!0})};var U={};z(U,{default:()=>Ae});var Ae={};var q={};z(q,{default:()=>Me});var Me={};var Y={};z(Y,{default:()=>Te});var Te={};var J={};z(J,{default:()=>Ce});var Ce={};var V={};z(V,{default:()=>Be});var Be={};var W={};z(W,{default:()=>Re});var Re={};var $={};z($,{default:()=>Ke});var Ke={};var G={};z(G,{default:()=>Ue});var Ue={};var Z={};z(Z,{default:()=>Ye});var Ye={};var Q={};z(Q,{default:()=>Ve});var Ve={};var M="data-js-hook";var se="state_";function ee(){let e={};function a(s,d){return{}.hasOwnProperty.call(e,s)?e[s].push(d):e[s]=[d],this}function r(s,d){if(!{}.hasOwnProperty.call(e,s))return this;let f=e[s].indexOf(d);return f!==-1&&e[s].splice(f,1),this}function u(s,d){if(!{}.hasOwnProperty.call(e,s))return this;d=d||{};let f=e[s];for(let n=0,b=f.length;n<b;n++)f[n].call(this,d);return this}return this.addEventListener=a,this.removeEventListener=r,this.dispatchEvent=u,this.getRegisteredEvents=()=>e,this}function T(e,a){if(!e)return!1;let r=e.getAttribute(M);return r?(r=r.split(" "),r.indexOf(a)>-1):!1}function ue(e,a){if(T(e,a))return a;if(a.indexOf(" ")!==-1){let u=M+" values cannot contain spaces!";throw new Error(u)}let r=e.getAttribute(M);return r!==null&&(a=r+" "+a),e.setAttribute(M,a),a}var ae=se+"atomic_init";function We(e,a){if(!e||!e.classList){let r=e+' is not valid. Check that element is a DOM node with class "'+a+'"';throw new Error(r)}return e}function $e(e,a){let r=e.classList.contains(a)?e:e.querySelector("."+a);if(!r){let u=a+" not found on or in passed DOM node.";throw new Error(u)}return r}function re(e,a){return We(e,a),$e(e,a)}function N(e){return T(e,ae)?!1:(ue(e,ae),!0)}function te(e,a,r,u={}){let d=(r||document).querySelectorAll(e),f=[],n,b;for(let v=0,m=d.length;v<m;v++)b=d[v],T(b,ae)===!1&&(n=new a(b),n.init(u),f.push(n));return f}function de(){return!!new RegExp(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i).test(navigator.userAgent)}var Ge;function Ze(e){return e.replace(/[-\\^$*+?.()|[\]{}]/g,"\\$&")}function Qe(e,a){return RegExp(Ze(a.trim()),"i").test(e)}function ea(e,a,r){let u=e,s=a,d=(r==null?void 0:r.maxSelections)||5,f=[],n=[],b=[],v=[],m=-1;function x(l){return s+"-"+l.value.trim().replace(/\s+/g,"-").toLowerCase()}function h(){return n.length>=d}function p(l){let g,y=[],E=!1;for(let L=0,A=l.length;L<A;L++)g=l[L],E=h()?!1:g.defaultSelected,y.push({id:x(g),value:g.value,text:g.text,checked:E}),E&&n.push(L);return y}function S(){return f=p(u),this}function w(l){return f[l].checked=!f[l].checked,n.length<d&&f[l].checked?(n.push(l),n.sort(),!0):(f[l].checked=!1,n=n.filter(function(g){return g!==l}),!1)}function B(l,g,y,E){return Qe(g.text,E)&&l.push(y),l}function D(l){return Object.prototype.toString.call(l)!=="[object String]"&&(l=""),v=b,f.length>0&&(b=f.reduce(function(g,y,E){return B(g,y,E,l)},[])),m=-1,b}function P(l){return f[l]}function R(l){let g=b.length,y=g===0?f.length:g;l<0?m=-1:l>=y?m=y-1:m=l}function H(){return m}return this.init=S,this.toggleOption=w,this.getSelectedIndices=function(){return n},this.isAtMaxSelections=h,this.filterIndices=D,this.clearFilter=function(){return b=v=[],Ge},this.getFilterIndices=function(){return b},this.getLastFilterIndices=function(){return v},this.getIndex=H,this.setIndex=R,this.resetIndex=function(){return m=-1,m},this.getOption=P,this}var ge=ea;function j(e,a,r){let u=document.createElement(e);return Object.keys(r).forEach(s=>{let d=r[s];s in u?u[s]=d:u.setAttribute(s,d)}),a&&a.appendChild(u),u}var pe='<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" class="cf-icon-svg cf-icon-svg--error" viewBox="0 0 12 19"><path d="M11.383 13.644A1.03 1.03 0 0 1 9.928 15.1L6 11.172 2.072 15.1a1.03 1.03 0 1 1-1.455-1.456l3.928-3.928L.617 5.79a1.03 1.03 0 1 1 1.455-1.456L6 8.261l3.928-3.928a1.03 1.03 0 0 1 1.455 1.456L7.455 9.716z"/></svg>';var oa=pe,_="o-multiselect",ia="a-checkbox",ca="a-text-input",ve="prev",C="next",oe="Enter",la=" ",he="Escape",na="ArrowUp",me="ArrowDown",ye="Tab",ke={renderTags:!0,maxSelections:5};function F(e){e.classList.add(_);let a=re(e,_),r=!1,u,s,d,f,n,b,v,m,x,h,p,S=[],w;function B(){p.classList.remove("u-no-results"),p.classList.add("u-filtered");let o=d.getLastFilterIndices();for(let t=0,i=o.length;t<i;t++)S[o[t]].classList.remove("u-filter-match");o=d.getFilterIndices();for(let t=0,i=o.length;t<i;t++)S[o[t]].classList.add("u-filter-match")}function D(){p.classList.remove("u-filtered","u-no-results");for(let o=0,t=p.children.length;o<t;o++)p.children[o].classList.remove("u-filter-match");d.clearFilter()}function P(){p.classList.add("u-no-results"),p.classList.remove("u-filtered")}function R(o){return o.length>0?(B(),!0):(P(),!1)}function H(o){D(),d.resetIndex();let t=d.filterIndices(o);R(t)}function l(){return b.classList.add("u-active"),h.classList.remove("u-invisible"),h.setAttribute("aria-hidden",!1),w.dispatchEvent("expandbegin",{target:w}),w}function g(){return b.classList.remove("u-active"),h.classList.add("u-invisible"),h.setAttribute("aria-hidden",!0),d.resetIndex(),w.dispatchEvent("collapsebegin",{target:w}),w}function y(o){o===C?d.setIndex(d.getIndex()+1):o===ve&&d.setIndex(d.getIndex()-1);let t=d.getIndex();if(t>-1){let i=t,c=d.getFilterIndices();c.length>0&&(i=c[t]);let O=d.getOption(i).value,ze=p.querySelector('[data-option="'+O+'"]').querySelector("input");r=!0,ze.focus()}else r=!1,x.focus()}function E(){x.value="",D()}function L(o){let t=o.target;t.tagName==="BUTTON"&&(o.preventDefault(),t.removeEventListener("click",L),t.querySelector("label").click())}function A(o){if(o.key===la||o.key===oe){let t=o.target.querySelector("label");p.querySelector("#"+t.getAttribute("for")).click()}}function ie(o){return u+"-"+o.value.trim().replace(/[^\w]/g,"-").toLowerCase()}function ce(o,t){let i=ie(t),c=j("li",null,{"data-option":t.value}),k=j("button",c,{type:"button",class:"a-tag-filter",innerHTML:"<label for="+i+">"+t.text+oa+"</label>"});o.appendChild(c),k.addEventListener("click",L),k.addEventListener("keydown",A)}function le(o){let t=d.getOption(o)||d.getOption(d.getIndex());if(t){if(t.checked){p.classList.contains("u-max-selections")&&p.classList.remove("u-max-selections");let i='[data-option="'+t.value+'"]',c=v.querySelector(i);typeof c!="undefined"&&c&&(v==null||v.removeChild(c))}else n!=null&&n.renderTags&&v&&ce(v,t);d.toggleOption(o),d.isAtMaxSelections()&&p.classList.add("u-max-selections"),w.dispatchEvent("selectionsupdated",{target:w})}d.resetIndex(),r=!1,h.getAttribute("aria-hidden")==="false"&&x.focus()}function xe(o){le(Number(o.target.getAttribute("data-index"))),E()}function we(){m.addEventListener("mousemove",function(i){let c=i.target;i.offsetX>c.offsetWidth-35?c.style.cursor="pointer":c.style.cursor="auto"}),m.addEventListener("mouseup",function(i){let c=i.target;i.offsetX>c.offsetWidth-35&&h.offsetHeight===140&&x.blur()}),x.addEventListener("input",function(){H(this.value)}),x.addEventListener("focus",function(){h.getAttribute("aria-hidden")==="true"&&l()}),x.addEventListener("blur",function(){!r&&h.getAttribute("aria-hidden")==="false"&&g()}),x.addEventListener("keydown",function(i){let c=i.key;h.getAttribute("aria-hidden")==="true"&&c!==ye&&l(),c===oe?(i.preventDefault(),y(C)):c===he?(E(),g()):c===me?y(C):c===ye&&!i.shiftKey&&h.getAttribute("aria-hidden")==="false"&&g()}),p.addEventListener("mousedown",function(){r=!0}),p.addEventListener("keydown",function(i){let c=i.key,k=i.target,O=k.checked;if(c===oe){i.preventDefault(),k.checked=!O;let I=new Event("change",{bubbles:!1,cancelable:!0});k.dispatchEvent(I)}else c===he?(x.focus(),g()):c===na?y(ve):c===me&&y(C)}),h.addEventListener("mousedown",function(i){i.target.tagName==="LABEL"&&(r=!0)});let o=p.querySelectorAll("input");for(let i=0,c=o.length;i<c;i++)o[i].addEventListener("change",xe);let t=v.querySelectorAll("button");for(let i=0,c=t.length;i<c;i++)t[i].addEventListener("click",L),t[i].addEventListener("keydown",A)}function je(){b=document.createElement("div"),b.className=_,v=j("ul",null,{className:"m-tag-group"}),m=j("header",b,{className:_+"__header"}),x=j("input",m,{className:_+"__search "+ca,type:"text",placeholder:s||"Select up to five",id:a.id,autocomplete:"off"}),h=j("fieldset",b,{className:_+"__fieldset u-invisible","aria-hidden":"true"});let o=_+"__options";d.isAtMaxSelections()&&(o+=" u-max-selections"),p=j("ul",h,{className:o});let t,i,c;for(let k=0,O=f.length;k<O;k++){t=f[k],i=ie(t),c=d.getOption(k).checked;let I=j("li",p,{"data-option":t.value,"data-cy":"multiselect-option",class:"m-form-field m-form-field--checkbox"});j("input",I,{id:i,type:"checkbox",value:t.value,name:u,class:ia+" "+_+"__checkbox",checked:c,"data-index":k}),j("label",I,{for:i,textContent:t.text,className:_+"__label a-label"}),S.push(I),c&&(n!=null&&n.renderTags)&&ce(v,t)}return b.insertBefore(v,m),a.parentNode.insertBefore(b,a),b.appendChild(a),b}function _e(o=ke){if(!N(a))return this;if(de())return this;if(w=this,u=a.name||a.id,s=a.getAttribute("data-placeholder"),f=a.options||[],n=X(X({},ke),o),f.length>0){d=new ge(f,u,n).init();let t=je();a.parentNode.removeChild(a),a=t,N(a),we()}return this}function Ee(){return d}this.init=_e,this.expand=l,this.collapse=g;let K=new ee;return this.addEventListener=K.addEventListener,this.removeEventListener=K.removeEventListener,this.dispatchEvent=K.dispatchEvent,this.getModel=Ee,this.updateSelections=le,this.selectionClickHandler=L,this.selectionKeyDownHandler=A,this}F.BASE_CLASS=_;F.init=e=>te(`.${_}`,F,void 0,e);})();
//# sourceMappingURL=index.js.map
