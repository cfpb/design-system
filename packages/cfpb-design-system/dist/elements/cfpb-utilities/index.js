(()=>{var J=Object.defineProperty;var O=Object.getOwnPropertySymbols;var S=Object.prototype.hasOwnProperty,$=Object.prototype.propertyIsEnumerable;var M=s=>{throw TypeError(s)};var L=(s,e,t)=>e in s?J(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,C=(s,e)=>{for(var t in e||(e={}))S.call(e,t)&&L(s,t,e[t]);if(O)for(var t of O(e))$.call(e,t)&&L(s,t,e[t]);return s};var b=(s,e,t)=>e.has(s)||M("Cannot "+t);var i=(s,e,t)=>(b(s,e,"read from private field"),t?t.call(s):e.get(s)),r=(s,e,t)=>e.has(s)?M("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(s):e.set(s,t),h=(s,e,t,n)=>(b(s,e,"write to private field"),n?n.call(s,t):e.set(s,t),t),l=(s,e,t)=>(b(s,e,"access private method"),t);var c,o,v,w,y=class y extends HTMLElement{constructor(){super();r(this,v);r(this,c);r(this,o);h(this,c,{}),h(this,o,"")}connectedCallback(){let t=[],n=this.querySelector("template");if(!n){t.push(["missing-template","No <template> found inside <i18n-service>"]);return}try{let a=n.innerHTML.trim(),x=JSON.parse(a);(typeof x!="object"||Array.isArray(x))&&t.push(["invalid-format","Translations JSON must be an object keyed by the language codes"]),h(this,c,x);let d=this.availableLanguages;d.length>0&&!i(this,o)&&(this.language=d[0])}catch(a){t.push(["parse-error","Failed to parse i18n template JSON",{err:a}])}requestAnimationFrame(()=>{t.forEach(a=>{l(this,v,w).call(this,...a)})})}set language(t){if(!i(this,c)[t]){l(this,v,w).call(this,"invalid-language",`Unsupported language: ${t}`,{lang:t});return}i(this,o)!==t&&(h(this,o,t),this.dispatchEvent(new CustomEvent("i18n-change",{detail:{language:t},bubbles:!0,composed:!0})))}get language(){return i(this,o)}get availableLanguages(){return Object.keys(i(this,c))}translate(t){var n;return((n=i(this,c)[i(this,o)])==null?void 0:n[t])||t}static init(){window.customElements.get("i18n-service")||window.customElements.define("i18n-service",y)}};c=new WeakMap,o=new WeakMap,v=new WeakSet,w=function(t,n,a={}){this.dispatchEvent(new CustomEvent("i18n-error",{detail:C({type:t,message:n},a),bubbles:!0,composed:!0}))};var T=y;var E,p,g,m,f,u,N,j,A=class extends EventTarget{constructor(t){super();r(this,u);r(this,E);r(this,p,new Map);r(this,g,new Map);r(this,m,new Map);r(this,f,!1);h(this,E,t!=null?t:{xs:{min:0,max:600},sm:{min:601,max:900},med:{min:901,max:1020},lg:{min:1021,max:1200},xl:{min:1201}});for(let[n,a]of Object.entries(i(this,E))){let x=l(this,u,N).call(this,a),d=window.matchMedia(x);i(this,p).set(n,d),i(this,m).set(n,d.matches);let q=F=>{i(this,m).set(n,F.matches),i(this,f)||(h(this,f,!0),requestAnimationFrame(()=>{h(this,f,!1),l(this,u,j).call(this)}))};d.addEventListener("change",q),i(this,g).set(n,q)}l(this,u,j).call(this)}get matches(){return Object.fromEntries(i(this,m))}destroy(){for(let[t,n]of i(this,p).entries()){let a=i(this,g).get(t);a&&n.removeEventListener("change",a)}i(this,p).clear(),i(this,g).clear(),i(this,m).clear()}};E=new WeakMap,p=new WeakMap,g=new WeakMap,m=new WeakMap,f=new WeakMap,u=new WeakSet,N=function(t){let n=[];return t.min!=null&&n.push(`(min-width: ${t.min}px)`),t.max!=null&&n.push(`(max-width: ${t.max}px)`),n.join(" and ")},j=function(){let t={matches:Object.fromEntries(i(this,m))};this.dispatchEvent(new CustomEvent("change",{detail:t}))};})();
//# sourceMappingURL=index.js.map
